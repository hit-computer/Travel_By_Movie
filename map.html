<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map_canvas { height: 100% }
    </style>
    <script type="text/javascript"
      src="http://maps.googleapis.com/maps/api/js?key=AIzaSyAhxSuTcMHHCO08oTVooQ4y0qz4wR9GML8&sensor=true">
    </script>
	
    <script type="text/javascript">
	var line;
      function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(28.777289,104.550533),
          zoom: 3,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
		var contentString ='<img src="photo/1.jpg" width="80%" />'
		var image = 'beachflag.png';
        var map = new google.maps.Map(document.getElementById("map_canvas"),
            mapOptions);
		var b1=window.frames["left"].document.getElementById('HIT');
		var b2=widow.frames["left"].document.getElementById('Beijing');
		var pos1=new google.maps.LatLng(45.746,126.632);
		var pos2=new google.maps.LatLng(39.911,116.410);
		
		var infowindow3 = new google.maps.InfoWindow({
      content: contentString
  });
  
			
		var marker = new google.maps.Marker({
				position: pos1,//添加一个位置标记
				map: map,
				title: 'HIT',//提示信息
				icon: image
				});
		marker.setMap(null);
		
			google.maps.event.addListener(marker, 'click', function() { //添加点击响应内容
	alert("hello，world！~");
  });
  
  google.maps.event.addListener(marker, 'mouseover', function() {
    infowindow3.open(map,marker);
  });
  
  google.maps.event.addListener(marker, 'mouseout', function() {
    infowindow3.open(null);
  });
			
		var marker2= new google.maps.Marker({
				position: pos2,//添加第二个位置标记
				map: map,
				title: 'Return',//提示信息
				icon: image,
				draggable:true,
				animation: google.maps.Animation.DROP
				});
		marker2.setMap(null);
			
			google.maps.event.addListener(marker2, 'click', function(){
				if (marker2.getAnimation() != null) {
					marker2.setAnimation(null);
				} else {
					marker2.setAnimation(google.maps.Animation.BOUNCE);
						}
				alert("hello，world！~");
				});
				
				
			google.maps.event.addDomListener(b1, 'click', function(){
				map.setCenter(pos1);
				map.panTo(pos1);
				map.setZoom(16);
				marker.setMap(map);
				marker2.setMap(null);
			});
			
			
			google.maps.event.addDomListener(b2, 'click', function(){
				map.setCenter(pos2);
				map.panTo(pos2);
				map.setZoom(10);
				marker2.setMap(map);
				marker.setMap(null);
			});
		
		var lineCoordinates = [
		new google.maps.LatLng(45.746983,126.633393),
		new google.maps.LatLng(45.743209,126.636225),
		new google.maps.LatLng(45.738612,126.634273),
		new google.maps.LatLng(45.740574,126.630217),
		new google.maps.LatLng(45.744901,126.625604),
		new google.maps.LatLng(45.743194,126.620776),
		];

  // Define the symbol, using one of the predefined paths ('CIRCLE')
  // supplied by the Google Maps JavaScript API.
		var lineSymbol = {
			path: google.maps.SymbolPath.CIRCLE,
			scale: 8,
			strokeColor: '#12940f'
		};

  // Create the polyline and add the symbol to it via the 'icons' property.
		line = new google.maps.Polyline({
			path: lineCoordinates,
			icons: [{
			icon: lineSymbol,
			offset: '100%'
			}],
			strokeColor: '#FF0000',
			map: map
			});

		animateCircle(map);	
}
			  function toggleBounce() {

		  if (marker2.getAnimation() != null) {
			marker2.setAnimation(null);
		  } else {
			marker2.setAnimation(google.maps.Animation.BOUNCE);
		  }
		}
		
				function animateCircle(map) {
				var zoomLevel = map.getZoom();
			var count = 0;
			window.setInterval(function() {
			  count = (count + 1) % 200;

			  var icons = line.get('icons');
			  icons[0].offset = (count / 2) + '%';
			  line.set('icons', icons);
		  }, 0.5*zoomLevel*zoomLevel*zoomLevel);
		}
		
	  google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
	<div id="map_canvas" ></div>
  </body>
</html>